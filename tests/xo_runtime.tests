# -*- tcl -*- Include file for xo.test.
# # ## ### ##### ######## ############# #####################

test xo-runtime-1.0 {private, parsing, opt args, thresholding} -setup {
    proc ::snafu {x} {}
} -body {
    xo create x foo {
	private bar {
	    description 6.1
	    input A - { validate integer }
	    input B - { validate integer; optional ; default 0 }
	    input C - { validate integer }
	    input D - { validate integer; optional ; default 0 }
	    input E - { validate integer }
	} ::snafu
    }
    [x lookup bar] do 1 2 3 4 5
    ShowParsed [x lookup bar]
} -cleanup {
    x destroy
    rename ::snafu {}
} -result {
    foo bar = {
        P (A) =	1 '1' 0 '<undef>'
        P (B) =	1 '2' 0 '<undef>'
        P (C) =	1 '3' 0 '<undef>'
        P (D) =	1 '4' 0 '<undef>'
        P (E) =	1 '5' 0 '<undef>'
    }
}

test xo-runtime-1.1 {private, parsing, opt args, thresholding} -setup {
    proc ::snafu {x} {}
} -body {
    xo create x foo {
	private bar {
	    description 6.1
	    input A - { validate integer }
	    input B - { validate integer; optional ; default 0 }
	    input C - { validate integer }
	    input D - { validate integer; optional ; default 0 }
	    input E - { validate integer }
	} ::snafu
    }
    [x lookup bar] do 1 2 3
    ShowParsed [x lookup bar]
} -cleanup {
    x destroy
    rename ::snafu {}
} -result {
    foo bar = {
        P (A) =	1 '1' 0 '<undef>'
        P (B) =	no '<undef>' 0 '<undef>'
        P (C) =	1 '2' 0 '<undef>'
        P (D) =	no '<undef>' 0 '<undef>'
        P (E) =	1 '3' 0 '<undef>'
    }
}


# # ## ### ##### ######## ############# #####################
return
