# -*- tcl -*- Include file for xo.test.
# # ## ### ##### ######## ############# #####################
## Basic wrong#args checks.

test xo-main-1.0 {new, wrong num args, not enough} -body {
    xo new
} -returnCodes error \
    -result {wrong # args: should be "xo new name spec"}

test xo-main-1.1 {new, wrong num args, too many} -body {
    xo new NAME
} -returnCodes error \
    -result {wrong # args: should be "xo new name spec"}

test xo-main-1.2 {new, wrong num args, too many} -body {
    xo new NAME SPEC X
} -returnCodes error \
    -result {wrong # args: should be "xo new name spec"}

test xo-main-1.3 {create, wrong num args, not enough} -body {
    xo create
} -returnCodes error \
    -result {wrong # args: should be "xo create obj name spec"}

test xo-main-1.4 {create, wrong num args, not enough} -body {
    xo create OBJ
} -returnCodes error \
    -result {wrong # args: should be "xo create obj name spec"}

test xo-main-1.5 {create, wrong num args, not enough} -body {
    xo create OBJ NAME
} -returnCodes error \
    -result {wrong # args: should be "xo create obj name spec"}

test xo-main-1.6 {new, wrong num args, too many} -body {
    xo create OBJ NAME SPEC X
} -returnCodes error \
    -result {wrong # args: should be "xo create obj name spec"}

# # ## ### ##### ######## ############# #####################
## Basic officer, knows nothing. create/new with proper arguments.

test xo-main-2.0 {new, nothing but auto-help} -setup {
    set x [xo new foo {}]
} -body {
    list [$x known] [$x hasdefault]
} -cleanup {
    $x destroy
    unset x
} -result {help 0}

test xo-main-2.1 {create, nothing but auto-help} -setup {
    xo create x foo {}
} -body {
    list [x known] [x hasdefault]
} -cleanup {
    x destroy
} -result {help 0}

# # ## ### ##### ######## ############# #####################
return
