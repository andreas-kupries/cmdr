# -*- tcl -*- Include file for xo.test.
# # ## ### ##### ######## ############# #####################
## Help structure generation.

test xo-help-1.0 {help structure} -body {
    xo create x foo {
	description TEST
	officer bar {
	    private aloha {
		description hawaii
		option lulu loop {}
		input yoyo height
		input jump gate { optional }
		input run lane { list }
	    } ::hula
	}
	default
	alias snafu
	officer tool {
	    officer pliers {}
	    officer hammer {
		private nail {
		    description workbench
		    option driver force { validate adouble ; default 0 ; list ; alias force }
		    state  context orientation
		    input supply magazine { list ; optional }
		} ::wall
	    }
	    default hammer
	}
	alias hammer = tool hammer

	private hidden {
	    undocumented
	} ::missing

	officer stealth {
	    undocumented
	    private cloak {} ::dagger
	}
    }
    x help
} -cleanup {
    x destroy
} -result {{bar aloha} {desc hawaii options {--lulu loop --no-lulu {Complementary alias of --lulu.}} arguments {yoyo {code + desc height} jump {code ? desc gate} run {code +* desc lane}}} {snafu aloha} {desc hawaii options {--lulu loop --no-lulu {Complementary alias of --lulu.}} arguments {yoyo {code + desc height} jump {code ? desc gate} run {code +* desc lane}}} {tool hammer nail} {desc workbench options {--driver force --force {Alias of --driver.}} arguments {supply {code ?* desc magazine}}} {hammer nail} {desc workbench options {--driver force --force {Alias of --driver.}} arguments {supply {code ?* desc magazine}}}}

test xo-help-1.1 {help structure, inverted boolean option} -body {
    xo create x foo {
	description TEST
	private nail {
	    description workbench
	    option no-driver force { list ; alias force }
	} ::wall
    }
    x help
} -cleanup {
    x destroy
} -result {nail {desc workbench options {--driver {Alias of --no-driver.} --force {Alias of --no-driver.} --no-driver force} arguments {}}}

# # ## ### ##### ######## ############# #####################
return
