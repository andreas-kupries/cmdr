# -*- tcl -*- Include file for xo.test.
# # ## ### ##### ######## ############# #####################
## Help structure generation.

test xo-help-1.0 {help structure} -body {
    xo create x foo {
	description TEST
	officer bar {
	    private aloha {
		description hawaii
		option lulu loop {}
		input yoyo height
		input jump gate { optional }
		input run lane { list }
	    } ::hula
	}
	default
	alias snafu
	officer tool {
	    officer pliers {}
	    officer hammer {
		private nail {
		    description workbench
		    option driver force { validate adouble ; default 0 ; list ; alias force }
		    state  context orientation
		    input supply magazine { list ; optional }
		} ::wall
	    }
	    default hammer
	}
	alias hammer = tool hammer

	private hidden {
	    undocumented
	} ::missing

	officer stealth {
	    undocumented
	    private cloak {} ::dagger
	}
    }
    x help
} -cleanup {
    x destroy
} -result {{bar aloha} {desc hawaii options {--lulu loop --no-lulu {Complementary alias of --lulu.}} arguments {yoyo {code + desc height} jump {code ? desc gate} run {code +* desc lane}}} {bar help} {desc {Retrieve help for a command or command set.
	    Without arguments help for all commands is given.
	    The default format is --full.} options {--short {
		Activate short form of the help.
	    } --list {
		Activate list form of the help.
	    } --full {
		Activate full form of the help.
	    }} arguments {cmdname {code ?* desc {
	    The entire command line, the name of the
	    command to get help for. This can be several
	    words.
	}}}} {snafu aloha} {desc hawaii options {--lulu loop --no-lulu {Complementary alias of --lulu.}} arguments {yoyo {code + desc height} jump {code ? desc gate} run {code +* desc lane}}} {snafu help} {desc {Retrieve help for a command or command set.
	    Without arguments help for all commands is given.
	    The default format is --full.} options {--short {
		Activate short form of the help.
	    } --list {
		Activate list form of the help.
	    } --full {
		Activate full form of the help.
	    }} arguments {cmdname {code ?* desc {
	    The entire command line, the name of the
	    command to get help for. This can be several
	    words.
	}}}} {tool pliers help} {desc {Retrieve help for a command or command set.
	    Without arguments help for all commands is given.
	    The default format is --full.} options {--short {
		Activate short form of the help.
	    } --list {
		Activate list form of the help.
	    } --full {
		Activate full form of the help.
	    }} arguments {cmdname {code ?* desc {
	    The entire command line, the name of the
	    command to get help for. This can be several
	    words.
	}}}} {tool hammer nail} {desc workbench options {--driver force --force {Alias of --driver.}} arguments {supply {code ?* desc magazine}}} {tool hammer help} {desc {Retrieve help for a command or command set.
	    Without arguments help for all commands is given.
	    The default format is --full.} options {--short {
		Activate short form of the help.
	    } --list {
		Activate list form of the help.
	    } --full {
		Activate full form of the help.
	    }} arguments {cmdname {code ?* desc {
	    The entire command line, the name of the
	    command to get help for. This can be several
	    words.
	}}}} {tool help} {desc {Retrieve help for a command or command set.
	    Without arguments help for all commands is given.
	    The default format is --full.} options {--short {
		Activate short form of the help.
	    } --list {
		Activate list form of the help.
	    } --full {
		Activate full form of the help.
	    }} arguments {cmdname {code ?* desc {
	    The entire command line, the name of the
	    command to get help for. This can be several
	    words.
	}}}} {hammer nail} {desc workbench options {--driver force --force {Alias of --driver.}} arguments {supply {code ?* desc magazine}}} {hammer help} {desc {Retrieve help for a command or command set.
	    Without arguments help for all commands is given.
	    The default format is --full.} options {--short {
		Activate short form of the help.
	    } --list {
		Activate list form of the help.
	    } --full {
		Activate full form of the help.
	    }} arguments {cmdname {code ?* desc {
	    The entire command line, the name of the
	    command to get help for. This can be several
	    words.
	}}}} help {desc {Retrieve help for a command or command set.
	    Without arguments help for all commands is given.
	    The default format is --full.} options {--short {
		Activate short form of the help.
	    } --list {
		Activate list form of the help.
	    } --full {
		Activate full form of the help.
	    }} arguments {cmdname {code ?* desc {
	    The entire command line, the name of the
	    command to get help for. This can be several
	    words.
	}}}}}

test xo-help-1.1 {help structure, inverted boolean option} -body {
    xo create x foo {
	description TEST
	private nail {
	    description workbench
	    option no-driver force { list ; alias force }
	} ::wall
    }
    x help
} -cleanup {
    x destroy
} -result {nail {desc workbench options {--driver {Complementary alias of --no-driver.} --force {Alias of --no-driver.} --no-driver force} arguments {}} help {desc {Retrieve help for a command or command set.
	    Without arguments help for all commands is given.
	    The default format is --full.} options {--short {
		Activate short form of the help.
	    } --list {
		Activate list form of the help.
	    } --full {
		Activate full form of the help.
	    }} arguments {cmdname {code ?* desc {
	    The entire command line, the name of the
	    command to get help for. This can be several
	    words.
	}}}}}

# # ## ### ##### ######## ############# #####################

test xo-help-2.0 {full - formatting help structure} -body {
    HelpLarge full
} -result {bar aloha [OPTIONS] yoyo ?jump? run...
    hawaii

    --lulu    loop
    --no-lulu Complementary alias of --lulu.

    yoyo height
    jump gate
    run  lane

bar help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

    --short Activate short form of the help.
    --list  Activate list form of the help.
    --full  Activate full form of the help.

    cmdname The entire command line, the name of
            the command to get help for. This can
            be several words.

snafu aloha [OPTIONS] yoyo ?jump? run...
    hawaii

    --lulu    loop
    --no-lulu Complementary alias of --lulu.

    yoyo height
    jump gate
    run  lane

snafu help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

    --short Activate short form of the help.
    --list  Activate list form of the help.
    --full  Activate full form of the help.

    cmdname The entire command line, the name of
            the command to get help for. This can
            be several words.

tool pliers help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

    --short Activate short form of the help.
    --list  Activate list form of the help.
    --full  Activate full form of the help.

    cmdname The entire command line, the name of
            the command to get help for. This can
            be several words.

tool hammer nail [OPTIONS] ?supply...?
    workbench

    --driver force
    --force  Alias of --driver.

    supply magazine

tool hammer help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

    --short Activate short form of the help.
    --list  Activate list form of the help.
    --full  Activate full form of the help.

    cmdname The entire command line, the name of
            the command to get help for. This can
            be several words.

tool help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

    --short Activate short form of the help.
    --list  Activate list form of the help.
    --full  Activate full form of the help.

    cmdname The entire command line, the name of
            the command to get help for. This can
            be several words.

hammer nail [OPTIONS] ?supply...?
    workbench

    --driver force
    --force  Alias of --driver.

    supply magazine

hammer help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

    --short Activate short form of the help.
    --list  Activate list form of the help.
    --full  Activate full form of the help.

    cmdname The entire command line, the name of
            the command to get help for. This can
            be several words.

help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

    --short Activate short form of the help.
    --list  Activate list form of the help.
    --full  Activate full form of the help.

    cmdname The entire command line, the name of
            the command to get help for. This can
            be several words.
}

test xo-help-2.1 {full formatting - help structure, inverted boolean option} -body {
    HelpSmall full
} -result {nail [OPTIONS]
    workbench

    --driver    Complementary alias of
                --no-driver.
    --force     Alias of --no-driver.
    --no-driver force

help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

    --short Activate short form of the help.
    --list  Activate list form of the help.
    --full  Activate full form of the help.

    cmdname The entire command line, the name of
            the command to get help for. This can
            be several words.
}

# # ## ### ##### ######## ############# #####################

test xo-help-3.0 {short - formatting help structure} -body {
    HelpLarge short
} -result {bar aloha [OPTIONS] yoyo ?jump? run...
    hawaii

bar help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

snafu aloha [OPTIONS] yoyo ?jump? run...
    hawaii

snafu help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

tool pliers help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

tool hammer nail [OPTIONS] ?supply...?
    workbench

tool hammer help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

tool help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

hammer nail [OPTIONS] ?supply...?
    workbench

hammer help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.

help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.
}

test xo-help-3.1 {short formatting - help structure, inverted boolean option} -body {
    HelpSmall short
} -result {nail [OPTIONS]
    workbench

help [OPTIONS] ?cmdname...?
    Retrieve help for a command or command set.
    Without arguments help for all commands is
    given. The default format is --full.
}

# # ## ### ##### ######## ############# #####################

test xo-help-4.0 {list - formatting help structure} -body {
    HelpLarge list
} -result {    bar aloha [OPTIONS] yoyo ?jump? run...
    bar help [OPTIONS] ?cmdname...?
    snafu aloha [OPTIONS] yoyo ?jump? run...
    snafu help [OPTIONS] ?cmdname...?
    tool pliers help [OPTIONS] ?cmdname...?
    tool hammer nail [OPTIONS] ?supply...?
    tool hammer help [OPTIONS] ?cmdname...?
    tool help [OPTIONS] ?cmdname...?
    hammer nail [OPTIONS] ?supply...?
    hammer help [OPTIONS] ?cmdname...?
    help [OPTIONS] ?cmdname...?}

test xo-help-4.1 {list formatting - help structure, inverted boolean option} -body {
    HelpSmall list
} -result {    nail [OPTIONS]
    help [OPTIONS] ?cmdname...?}

# # ## ### ##### ######## ############# #####################
return
